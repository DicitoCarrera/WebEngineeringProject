<!DOCTYPE HTML>
<html>
<head>
    <title>Learning Progress</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
</head>
<body class="is-preload">

    <!-- Wrapper -->
    <div id="wrapper">

        <!-- Header -->
        <header id="header">
            <h1><a href="index.html">Learn Programming</a></h1>
            <nav class="links">
                <ul>
                    <li><a href="lessons-python.html">Courses</a></li>
                    <li><a href="about-us.html">About us</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
            <nav class="main">
                <ul>
                    <li class="menu">
                        <a class="fa-bars" href="#menu">Menu</a>
                    </li>
                </ul>
            </nav>
        </header>

        <!-- Main -->
        <div id="main">
            <div id="completed-lessons-container"></div>
        </div>

        <!-- Footer -->
        <section id="footer">
            <ul class="icons">
                <li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
                <li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
                <li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
                <li><a href="#" class="icon solid fa-rss"><span class="label">RSS</span></a></li>
                <li><a href="#" class="icon solid fa-envelope"><span class="label">Email</span></a></li>
            </ul>
            <p class="copyright">&copy; Untitled.</p>
        </section>

    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            fetch("http://localhost:3000/completed-lessons")
                .then(response => response.json())
                .then(data => {
                    const lessonsContainer = document.getElementById("completed-lessons-container");

                    data.forEach(lesson => {
                        const lessonElement = document.createElement("article");
                        lessonElement.classList.add("post");
                        lessonElement.innerHTML = `
                            <header>
                                <div class="title">
                                    <h2><a href="single.html">${lesson.title}</a></h2>
                                    <p>${lesson.description}</p>
                                </div>
                                <div class="meta">
                                    <time class="published" datetime="${lesson.date}">${new Date(lesson.date).toLocaleDateString()}</time>
                                    <a href="#" class="author"><span class="name">${lesson.teacher}</span><img src="images/avatar.jpg" alt="" /></a>
                                </div>
                            </header>
                            <a href="single.html" class="image featured"><img src="images/pic01.jpg" alt="" /></a>
                            <p>${lesson.explanation}</p>
                            <footer>
                                <ul class="actions">
                                    <li><a href="single.html" class="button large">Review Lesson</a></li>
                                </ul>
                                <ul class="stats">
                                    <li><a href="#">${lesson.language}</a></li>
                                    <li><a href="#" class="icon solid fa-heart">28</a></li>
                                    <li><a href="#" class="icon solid fa-comment">128</a></li>
                                </ul>
                            </footer>
                        `;
                        lessonsContainer.appendChild(lessonElement);
                    });
                });
        });
    </script>
</body>
</html>